(this.webpackJsonptest_application=this.webpackJsonptest_application||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},54:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),i=n(16),o=n.n(i),s=(n(46),n(11)),l=(n(47),n(33)),u=n(34),d=n(40),j=n(38),h=(n(48),function(){return Object(c.jsx)("div",{className:"Navbar",children:Object(c.jsxs)("nav",{className:"navTab",children:[Object(c.jsx)(s.b,{to:"/",activeClassName:"activeTab",exact:!0,children:"Dashboard"}),Object(c.jsx)(s.b,{to:"/analytics",activeClassName:"activeTab",children:"Analytics"}),Object(c.jsx)(s.b,{to:"/list",activeClassName:"activeTab",children:"List"})]})})}),b=n(3),f=n(9),O=n(20),x=n.n(O),p=n(36),g=n.n(p),v=(n(54),function(e){return Object(c.jsx)(r.Fragment,{children:Object(c.jsx)("div",{className:"chartContainer",children:Object(c.jsx)(g.a,{highcharts:x.a,options:e.options})})})}),m="SET_RECORDS",E="SET_IS_LOADING",D="SET_IS_ERROR",w="SET_ERROR_MESSAGE",y="SET_ANALYTICS",N=n(10),S=n.n(N),A=" https://test-application-nirmal.herokuapp.com/records",R="/generateValues",C="/getValues",k="/resetTable",L="/setExpiryAll",M="/setInactiveAll",_="/setExpiry",I="/setInactive",T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],F=function(){return function(e){var t="".concat(A).concat(C);e(V(!0)),S.a.get(t).then((function(t){e(V(!1)),e(G(t.data.data)),B(e,t.data.data),e(J(!1))})).catch((function(t){e(V(!1)),e(J(!0)),e(P("Something went wrong"))}))}},B=function(e,t){var n=t.filter((function(e){return"Y"===e.ActiveIndicator})).length,c=t.length-n,r=[],a=t.reduce((function(e,t){if("Y"===t.ActiveIndicator){var n=T[new Date(t.Effective_date).getMonth()];e[n]=e[n]||0,e[n]++}return e}),Object.create(null));T.forEach((function(e){r.push({month:e,y:a[e]||0})})),e(H({activeRecords:n,inActiveRecords:c,stats:r}))},G=function(e){return{type:m,payload:e}},H=function(e){return{type:y,payload:e}},J=function(e){return{type:D,payload:e}},P=function(e){return{type:w,payload:e}},V=function(e){return{type:E,payload:e}},Y=(n(72),function(){return Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)("span",{className:"loaderText",children:"Loading..."})})}),X=Object(f.b)((function(e){return{activeRecords:e.activeRecords,inActiveRecords:e.inActiveRecords,isLoading:e.isLoading,isError:e.isError,errorMessage:e.errorMessage,stats:e.stats}}),(function(e){return{getData:function(){return e(F())}}}))((function(e){Object(r.useEffect)((function(){e.getData()}),[]);var t={chart:{type:"pie"},title:{text:"Pie chart"},series:[{name:"Records",data:[{name:"Active",y:e.activeRecords},{name:"Inactive",y:e.inActiveRecords}]}]},n={chart:{type:"line"},xAxis:{categories:T},title:{text:"Line chart"},series:[{name:"Active Records",data:e.stats}]};return Object(c.jsxs)(r.Fragment,{children:[e.isLoading&&Object(c.jsx)(Y,{}),Object(c.jsx)("p",{children:"Analytics of the records in DB"}),e.isError&&Object(c.jsx)("div",{children:"props.errorMessage"}),Object(c.jsx)(v,{options:t}),Object(c.jsx)(v,{options:n})]})})),U=n(39),q=(n(73),0),z=1,K=function(e){var t=10,n=Math.ceil(e.rows.length/t),a=z*t<e.rows.length?z*t:e.rows.length,i=Object(r.useState)(""),o=Object(U.a)(i,2),s=(o[0],o[1]),l=Object(c.jsx)("div",{children:" No records Found"});return e.rows.length&&(l=Object(c.jsxs)("div",{children:[Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[e.headers.map((function(e,t){return Object(c.jsx)("th",{children:e},t)})),Object(c.jsx)("th",{colSpan:"2",children:"Actions"})]})}),Object(c.jsx)("tbody",{children:e.rows.slice(q,a).map((function(t){return Object(c.jsxs)("tr",{children:[e.headers.map((function(e,n){return Object(c.jsx)("td",{children:t[e]},n)})),Object(c.jsx)("td",{children:Object(c.jsx)("span",{className:"action",onClick:function(){return e.onExpiryClick(t.Id)},children:"Expire"})}),Object(c.jsx)("td",{children:Object(c.jsx)("span",{className:"action",onClick:function(){return e.onDeleteClick(t.Id)},children:"Delete"})})]},t.Id)}))})]}),Object(c.jsxs)("div",{className:"pagination",children:["showing ",q+1," - ",a," of ",e.rows.length,Object(c.jsx)("span",{className:"paginationAction",onClick:function(){z>1&&(q=t*((z-=1)-1),a=z*t<e.rows.length?z*t:e.rows.length,s(e.rows.slice(q,a)))},children:"Previous"}),Object(c.jsx)("span",{className:"paginationAction",onClick:function(){z<n&&(q=t*z,a=(z+=1)*t<e.rows.length?z*t:e.rows.length,s(e.rows.slice(q,a)))},children:"Next"})]})]})),Object(c.jsx)(r.Fragment,{children:l})},Q=Object(f.b)((function(e){return{records:e.records,isLoading:e.isLoading,isError:e.isError,errorMessage:e.errorMessage}}),(function(e){return{getData:function(){return e(F())},onExpiryClick:function(t){return e(function(e){return function(t){var n="".concat(A).concat(_);t(V(!0));var c={id:e};S.a.post(n,c).then((function(e){t(V(!1)),t(J(!1)),t(F())})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}}(t))},onDeleteClick:function(t){return e(function(e){return function(t){var n="".concat(A).concat(I);t(V(!0));var c={id:e};S.a.post(n,c).then((function(e){t(V(!1)),t(J(!1)),t(F())})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}}(t))}}}))((function(e){return Object(r.useEffect)((function(){e.getData()}),[]),Object(c.jsxs)(r.Fragment,{children:[e.isLoading&&Object(c.jsx)(Y,{}),Object(c.jsx)("p",{children:"List of records in DB"}),e.isError&&Object(c.jsx)("div",{children:"props.errorMessage"}),Object(c.jsx)(K,{headers:Object.keys(e.records[0]||{}),rows:e.records,onExpiryClick:function(t){e.onExpiryClick(t)},onDeleteClick:function(t){e.onDeleteClick(t)},onGetData:function(){e.getData()}})]})})),W=(n(74),function(e){return Object(c.jsx)(r.Fragment,{children:Object(c.jsx)("button",{onClick:e.clickHandler,className:"customButton",children:e.label})})}),Z=(n(75),Object(f.b)((function(e){return{isLoading:e.isLoading,isError:e.isError,errorMessage:e.errorMessage}}),(function(e){return{onGenerateData:function(){return e((function(e){var t="".concat(A).concat(R);e(V(!0)),S.a.get(t).then((function(t){e(V(!1)),e(J(!1))})).catch((function(t){e(V(!1)),e(J(!0)),e(P("Something went wrong"))}))}))},onResetData:function(){return e((function(e){var t="".concat(A).concat(k);e(V(!0)),S.a.get(t).then((function(t){e(V(!1)),e(J(!1))})).catch((function(t){e(V(!1)),e(J(!0)),e(P("Something went wrong"))}))}))},onDeleteData:function(){return e((function(e){var t="".concat(A).concat(M);e(V(!0)),S.a.get(t).then((function(t){e(V(!1)),e(J(!1))})).catch((function(t){e(V(!1)),e(J(!0)),e(P("Something went wrong"))}))}))},onExpireData:function(){return e((function(e){var t="".concat(A).concat(L);e(V(!0)),S.a.get(t).then((function(t){e(V(!1)),e(J(!1))})).catch((function(t){e(V(!1)),e(J(!0)),e(P("Something went wrong"))}))}))}}}))((function(e){return Object(c.jsxs)(r.Fragment,{children:[e.isLoading&&Object(c.jsx)(Y,{}),Object(c.jsx)("p",{children:"Dashboard to create and manipulate records in DB"}),e.isError&&Object(c.jsx)("div",{children:"props.errorMessage"}),Object(c.jsx)(W,{label:"Generate data",clickHandler:function(){e.onGenerateData()}}),Object(c.jsx)(W,{label:"Reset data",clickHandler:function(){e.onResetData()}}),Object(c.jsx)(W,{label:"Delete data",clickHandler:function(){e.onDeleteData()}}),Object(c.jsx)(W,{label:"Expire data",clickHandler:function(){e.onExpireData()}}),Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("span",{children:"Note"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Generate Data button creates 10,000 rows of default values in DB"}),Object(c.jsx)("li",{children:"Reset Data button deletes rows from DB"}),Object(c.jsx)("li",{children:"Delete Data button sets all the records with 'Active Indicator' to 'N'"}),Object(c.jsx)("li",{children:"Expire Data button sets all the records with 'Expiry date' to curren date"})]})]})]})}))),$=function(){return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)(b.a,{path:"/",component:Z,exact:!0}),Object(c.jsx)(b.a,{path:"/analytics",component:X}),Object(c.jsx)(b.a,{path:"/list",component:Q})]})},ee=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)(h,{}),Object(c.jsx)($,{})]})}}]),n}(r.Component);var te=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(s.a,{children:Object(c.jsx)(ee,{})})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},ce=n(13),re=n(37),ae=n(15),ie=function(e,t){return Object(ae.a)(Object(ae.a)({},e),t)},oe={records:[],activeRecords:0,inActiveRecords:0,isLoading:!1,isError:!1,errorMessage:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return ie(e,{records:t.payload});case E:return ie(e,{isLoading:t.payload});case D:return ie(e,{isError:t.payload});case w:return ie(e,{errorMessage:t.payload});case y:return ie(e,Object(ae.a)({},t.payload));default:return e}},le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ce.c,ue=Object(ce.d)(se,le(Object(ce.a)(re.a)));o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(f.a,{store:ue,children:Object(c.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[76,1,2]]]);
//# sourceMappingURL=main.394bd498.chunk.js.map