(this.webpackJsonptest_application=this.webpackJsonptest_application||[]).push([[0],{46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},54:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),i=n(16),s=n.n(i),o=(n(46),n(11)),l=(n(47),n(33)),u=n(34),d=n(40),j=n(38),h=(n(48),function(){return Object(c.jsx)("div",{className:"Navbar",children:Object(c.jsxs)("nav",{className:"navTab",children:[Object(c.jsx)(o.b,{to:"/",activeClassName:"activeTab",exact:!0,children:"Dashboard"}),Object(c.jsx)(o.b,{to:"/analytics",activeClassName:"activeTab",children:"Analytics"}),Object(c.jsx)(o.b,{to:"/list",activeClassName:"activeTab",children:"List"})]})})}),b=n(3),f=n(9),O=n(20),x=n.n(O),g=n(36),p=n.n(g),v=(n(54),function(t){return Object(c.jsx)(a.Fragment,{children:Object(c.jsx)("div",{className:"chartContainer",children:Object(c.jsx)(p.a,{highcharts:x.a,options:t.options})})})}),m="SET_RECORDS",E="SET_IS_LOADING",D="SET_IS_ERROR",y="SET_ERROR_MESSAGE",w="SET_ANALYTICS",N=n(10),A=n.n(N),L=" https://test-application-nirmal.herokuapp.com/records",C="/generateValues",R="/getValues",S="/resetTable",k="/setExpiryAll",I="/setInactiveAll",F="/setExpiry",M="/setInactive",_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T=function(){return function(t){var e="".concat(L).concat(R);t(V(!0)),A.a.get(e).then((function(e){t(V(!1)),"FAILED"===e.data.status?(t(J(!0)),t(P(e.data.err))):(t(G(e.data.data.data)),B(t,e.data.data.data),t(J(!1)))})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}},B=function(t,e){var n=e.filter((function(t){return"Y"===t.ActiveIndicator})).length,c=e.length-n,a=[],r=e.reduce((function(t,e){if("Y"===e.ActiveIndicator){var n=_[new Date(e.Effective_date).getMonth()];t[n]=t[n]||0,t[n]++}return t}),Object.create(null));_.forEach((function(t){a.push({month:t,y:r[t]||0})})),t(H({activeRecords:n,inActiveRecords:c,stats:a}))},G=function(t){return{type:m,payload:t}},H=function(t){return{type:w,payload:t}},J=function(t){return{type:D,payload:t}},P=function(t){return{type:y,payload:t}},V=function(t){return{type:E,payload:t}},Y=(n(72),function(){return Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)("span",{className:"loaderText",children:"Loading..."})})}),X=(n(73),Object(f.b)((function(t){return{activeRecords:t.activeRecords,inActiveRecords:t.inActiveRecords,isLoading:t.isLoading,isError:t.isError,errorMessage:t.errorMessage,stats:t.stats}}),(function(t){return{getData:function(){return t(T())}}}))((function(t){Object(a.useEffect)((function(){t.getData()}),[]);var e={chart:{type:"pie"},title:{text:"Pie chart"},series:[{name:"Records",data:[{name:"Active",y:t.activeRecords},{name:"Inactive",y:t.inActiveRecords}]}]},n={chart:{type:"line"},xAxis:{categories:_},title:{text:"Line chart"},series:[{name:"Active Records",data:t.stats}]};return Object(c.jsxs)(a.Fragment,{children:[t.isLoading&&Object(c.jsx)(Y,{}),Object(c.jsx)("p",{children:"Analytics of the records in DB"}),t.isError&&Object(c.jsx)("div",{className:"errorMsg",children:t.errorMessage}),Object(c.jsxs)("div",{className:"chartsGroup",children:[Object(c.jsx)(v,{options:e}),Object(c.jsx)(v,{options:n})]})]})}))),U=n(39),q=(n(74),0),z=1,K=function(t){var e=10,n=Math.ceil(t.rows.length/e),r=z*e<t.rows.length?z*e:t.rows.length,i=Object(a.useState)(""),s=Object(U.a)(i,2),o=(s[0],s[1]),l=Object(c.jsx)("div",{children:" No records Found"}),u=Object.keys(t.rows[0]||{});return t.rows.length&&(l=Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)("div",{className:"tableContainer",children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[u.map((function(t,e){return Object(c.jsx)("th",{children:t},e)})),Object(c.jsx)("th",{colSpan:"2",children:"Actions"})]})}),Object(c.jsx)("tbody",{children:t.rows.slice(q,r).map((function(e){return Object(c.jsxs)("tr",{children:[u.map((function(t,n){return Object(c.jsx)("td",{children:e[t]},n)})),Object(c.jsx)("td",{children:Object(c.jsx)("span",{className:"action",onClick:function(){return t.onExpiryClick(e.Id)},children:"Expire"})}),Object(c.jsx)("td",{children:Object(c.jsx)("span",{className:"action",onClick:function(){return t.onDeleteClick(e.Id)},children:"Delete"})})]},e.Id)}))})]})}),Object(c.jsxs)("div",{className:"pagination",children:["showing ",q+1," - ",r," of ",t.rows.length,Object(c.jsx)("span",{className:"paginationAction",onClick:function(){z>1&&(q=e*((z-=1)-1),r=z*e<t.rows.length?z*e:t.rows.length,o(t.rows.slice(q,r)))},children:"Previous"}),Object(c.jsx)("span",{className:"paginationAction",onClick:function(){z<n&&(q=e*z,r=(z+=1)*e<t.rows.length?z*e:t.rows.length,o(t.rows.slice(q,r)))},children:"Next"})]})]})),l},Q=Object(f.b)((function(t){return{records:t.records,isLoading:t.isLoading,isError:t.isError,errorMessage:t.errorMessage}}),(function(t){return{getData:function(){return t(T())},onExpiryClick:function(e){return t(function(t){return function(e){var n="".concat(L).concat(F);e(V(!0));var c={id:t};A.a.post(n,c).then((function(t){e(V(!1)),"FAILED"===t.data.status?(e(J(!0)),e(P(t.data.err))):(e(J(!1)),e(T()))})).catch((function(t){e(V(!1)),e(J(!0)),e(P("Something went wrong"))}))}}(e))},onDeleteClick:function(e){return t(function(t){return function(e){var n="".concat(L).concat(M);e(V(!0));var c={id:t};A.a.post(n,c).then((function(t){e(V(!1)),"FAILED"===t.data.status?(e(J(!0)),e(P(t.data.err))):(e(J(!1)),e(T()))})).catch((function(t){e(V(!1)),e(J(!0)),e(P(t.err))}))}}(e))}}}))((function(t){return Object(a.useEffect)((function(){t.getData()}),[]),Object(c.jsxs)(a.Fragment,{children:[t.isLoading&&Object(c.jsx)(Y,{}),Object(c.jsx)("p",{children:"List of records in DB"}),t.isError&&Object(c.jsx)("div",{className:"errorMsg",children:t.errorMessage}),Object(c.jsx)(K,{rows:t.records,onExpiryClick:function(e){t.onExpiryClick(e)},onDeleteClick:function(e){t.onDeleteClick(e)},onGetData:function(){t.getData()}})]})})),W=(n(75),function(t){return Object(c.jsx)(a.Fragment,{children:Object(c.jsx)("button",{onClick:t.clickHandler,className:"customButton",children:t.label})})}),Z=(n(76),Object(f.b)((function(t){return{isLoading:t.isLoading,isError:t.isError,errorMessage:t.errorMessage}}),(function(t){return{onGenerateData:function(){return t((function(t){var e="".concat(L).concat(C);t(V(!0)),A.a.get(e).then((function(e){t(V(!1)),"FAILED"===e.data.status?(t(J(!0)),t(P(e.data.err))):t(J(!1))})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}))},onResetData:function(){return t((function(t){var e="".concat(L).concat(S);t(V(!0)),A.a.get(e).then((function(e){t(V(!1)),"FAILED"===e.data.status?(t(J(!0)),t(P(e.data.err))):t(J(!1))})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}))},onDeleteData:function(){return t((function(t){var e="".concat(L).concat(I);t(V(!0)),A.a.get(e).then((function(e){t(V(!1)),"FAILED"===e.data.status?(t(J(!0)),t(P(e.data.err))):t(J(!1))})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}))},onExpireData:function(){return t((function(t){var e="".concat(L).concat(k);t(V(!0)),A.a.get(e).then((function(e){t(V(!1)),"FAILED"===e.data.status?(t(J(!0)),t(P(e.data.err))):t(J(!1))})).catch((function(e){t(V(!1)),t(J(!0)),t(P("Something went wrong"))}))}))}}}))((function(t){return Object(c.jsxs)(a.Fragment,{children:[t.isLoading&&Object(c.jsx)(Y,{}),Object(c.jsx)("p",{children:"Dashboard to create and manipulate records in DB"}),t.isError&&Object(c.jsx)("div",{className:"errorMsg",children:t.errorMessage}),Object(c.jsxs)("div",{className:"buttonContainer",children:[Object(c.jsx)(W,{label:"Generate data",clickHandler:function(){t.onGenerateData()}}),Object(c.jsx)(W,{label:"Reset data",clickHandler:function(){t.onResetData()}}),Object(c.jsx)(W,{label:"Delete data",clickHandler:function(){t.onDeleteData()}}),Object(c.jsx)(W,{label:"Expire data",clickHandler:function(){t.onExpireData()}})]}),Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("span",{children:"Note"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:"Generate Data button creates 10,000 rows of default values in DB"}),Object(c.jsx)("li",{children:"Reset Data button deletes rows from DB"}),Object(c.jsx)("li",{children:"Delete Data button sets all the records with 'Active Indicator' to 'N'"}),Object(c.jsx)("li",{children:"Expire Data button sets all the records with 'Expiry date' to current date"})]})]})]})}))),$=function(){return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(b.a,{path:"/",component:Z,exact:!0}),Object(c.jsx)(b.a,{path:"/analytics",component:X}),Object(c.jsx)(b.a,{path:"/list",component:Q})]})},tt=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(h,{}),Object(c.jsx)($,{})]})}}]),n}(a.Component);var et=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(o.a,{children:Object(c.jsx)(tt,{})})})},nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))},ct=n(13),at=n(37),rt=n(15),it=function(t,e){return Object(rt.a)(Object(rt.a)({},t),e)},st={records:[],activeRecords:0,inActiveRecords:0,isLoading:!1,isError:!1,errorMessage:null},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return it(t,{records:e.payload});case E:return it(t,{isLoading:e.payload});case D:return it(t,{isError:e.payload});case y:return it(t,{errorMessage:e.payload});case w:return it(t,Object(rt.a)({},e.payload));default:return t}},lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ct.c,ut=Object(ct.d)(ot,lt(Object(ct.a)(at.a)));s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(f.a,{store:ut,children:Object(c.jsx)(et,{})})}),document.getElementById("root")),nt()}},[[77,1,2]]]);
//# sourceMappingURL=main.b94884cb.chunk.js.map